(this.webpackJsonphatsugen_matome_maker=this.webpackJsonphatsugen_matome_maker||[]).push([[0],{51:function(t,e,a){t.exports=a.p+"static/media/title.8597613c.jpg"},65:function(t,e,a){t.exports=a(78)},70:function(t,e,a){},71:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var n=a(12),i=a(29),r=a(39),o=a(38),l=a(0),m=a.n(l),c=a(9),s=a.n(c),u=(a(70),a(71),a(53)),h=a(105),d=a(108),f=a(117),y=a(115),v=a(109),p=a(110),g=a(111),x=a(50),b=a.n(x),E=function(t){Object(r.a)(a,t);var e=Object(o.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).handleChange=function(t,e){var a=i.state.texts.slice();a[t]=e,i.setState({texts:a})},i.handleSeedChange=function(t){var e=parseInt(t);i.setState({seed:Number.isNaN(e)?Date.now():e})},i.handleSubmit=function(t){t.preventDefault(),i.props.onSubmit(i.state.seed,i.state.texts)},i.updateSeed=function(){i.setState({seed:Date.now()})},i.addTextArea=function(){i.state.texts.length<100&&i.setState({texts:[].concat(Object(u.a)(i.state.texts),[""])})},i.renderTextArea=function(t){return m.a.createElement(h.a,{item:!0,key:"".concat(t),xs:12,sm:6},m.a.createElement(d.a,{elevation:3},m.a.createElement(f.a,{padding:2},m.a.createElement(y.a,{color:"secondary",label:"\u767a\u8a00 ".concat(t+1),multiline:!0,fullWidth:!0,value:i.state.texts[t],onChange:function(e){return i.handleChange(t,e.target.value)}}))))},i.render=function(){for(var t=[],e=0;e<i.state.texts.length;e++)t.push(i.renderTextArea(e));return m.a.createElement("form",{onSubmit:i.handleSubmit},m.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center",justify:"flex-start"},t),m.a.createElement(f.a,{display:"flex",justifyContent:"center",margin:2},m.a.createElement(v.a,{size:"medium",color:"secondary","aria-label":"add",onClick:i.addTextArea},m.a.createElement(b.a,null))),m.a.createElement(p.a,{variant:"middle"}),m.a.createElement(f.a,{display:"flex",justifyContent:"center",padding:2},m.a.createElement(y.a,{type:"number",label:"\u30b7\u30fc\u30c9\u5024",color:"secondary",value:i.state.seed,onChange:function(t){return i.handleSeedChange(t.target.value)}}),m.a.createElement(g.a,{color:"secondary",onClick:i.updateSeed},"\u66f4\u65b0"),m.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit"},"\u4f5c\u6210")))},i.state={texts:["","",""],seed:Date.now()},i}return a}(m.a.Component),N=a(54),M=function(){function t(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:88675123;Object(n.a)(this,t),this.w=void 0,this.x=123456789,this.y=362436069,this.z=521288629,this.rand=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.w^e.w>>>19^t^t>>>8},this.w=a}return Object(i.a)(t,[{key:"randInt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return t+Math.abs(this.rand())%(e+1-t)}}]),t}(),w=function t(e,a,i,r){var o=this,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(n.a)(this,t),this.texts=void 0,this.x=void 0,this.y=void 0,this.size=void 0,this.isVertical=void 0,this.isBold=void 0,this.getLayout=function(){var t=[];if(o.isVertical)for(var e=0;e<o.texts.length;e++)for(var a=0;a<o.texts[e].length;a++)t.push({text:o.texts[e][a],x:Math.max(0,o.x-(e+.5)*o.size),y:o.y+(a+.5)*o.size,maxWidth:o.size});else for(var n=0;n<o.texts.length;n++)t.push({text:o.texts[n],x:o.x,y:o.y+(n+.5)*o.size,maxWidth:o.texts[n].length*o.size});return t},this.texts=e,this.x=Math.max(0,a),this.y=Math.max(0,i),this.size=Math.max(1,r),this.isVertical=l,this.isBold=m};w.verticalArray=function(t){var e=t.reduce((function(t,e){return Math.max(t,e.length)}),0),a=Array(e).fill("");return t.reverse().forEach((function(t){for(var e=0;e<t.length;e++)a[e]+=t[e]})),a};var k=function t(e,a,i,r){var o=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,width:0,height:0};Object(n.a)(this,t),this.sentences=void 0,this.rand=void 0,this.width=void 0,this.height=void 0,this.availabilityMap=void 0,this.emptyNum=void 0,this.emptyNumRow=void 0,this.emptyNumColumn=void 0,this.remainingCharNum=void 0,this.logMap=function(){console.log("EmptyNum: ".concat(o.emptyNum)),console.log("EmptyNumRow: ".concat(o.emptyNumRow)),console.log("EmptyNumColumn: ".concat(o.emptyNumColumn));var t="";o.availabilityMap.forEach((function(e){e.forEach((function(e){return t+=e?"\u26aa":"\ud83d\udd34"})),t+="\n"})),console.log(t)},this.setPlaceholder=function(t){for(var e,a,n=Math.round(t.x),i=Math.round(t.y),r=Math.round(t.width),l=Math.round(t.height),m=0;m<r;m++)for(var c=0;c<l;c++)e=n+m<0?0:n+m>=o.width?o.width-1:n+m,a=i+c<0?0:i+c>=o.height?o.height-1:i+c,o.availabilityMap[a][e]&&(o.availabilityMap[a][e]=!1,o.emptyNum--,o.emptyNumRow[a]--,o.emptyNumColumn[e]--)},this.makeLayout=function(){o.sentences.forEach((function(t){o.locateSentence(t),t.isBold=o.rand.rand()%3===0}))},this.locateSentence=function(t){for(var e=Math.floor(Math.sqrt(o.emptyNum/o.remainingCharNum)),a=o.rand.rand()%3===0;e>0;){if(a){var n=o.findVerticalLocation(t.texts,e);if(-1!==n.anchorX||-1!==n.anchorY){t.x=n.anchorX,t.y=n.anchorY,t.isVertical=!0;break}}else{var i=o.findHorizontalLocation(t.texts,e);if(-1!==i.anchorX||-1!==i.anchorY){t.x=i.anchorX,t.y=i.anchorY;break}}e--}t.size=e,t.isVertical?o.updateAvailabilityVertically(t):o.updateAvailabilityHorizontally(t)},this.findHorizontalLocation=function(t,e){var a=t.map((function(t){return e*t.length})),n=a.reduce((function(t,e){return Math.max(t,e)}));if(n>o.width)return{anchorX:-1,anchorY:-1};for(var i=[],r=1+o.emptyNumRow.length-e*a.length,l=0;l<r;l++){for(var m=!0,c=0;c<a.length;c++){for(var s=0;s<e;s++){var u=l+c*e+s;if(u>=o.emptyNumRow.length||o.emptyNumRow[u]<a[c]){m=!1;break}}if(!m)break}m&&i.push(l)}for(var h=-1,d=-1,f=i.length,y=0;y<f;y++){for(var v=1+o.width-n,p=o.rand.randInt(0,i.length-1),g=i[p],x=o.rand.randInt(0,v-1),b=0;b<v;b++){for(var E=(b+x)%v,N=!0,M=0;M<a.length;M++){for(var w=0;w<e;w++){for(var k=M*e+w,C=0;C<a[M];C++)if(!o.availabilityMap[g+k][E+C]){N=!1;break}if(!N)break}if(!N)break}if(N){h=E,d=g;break}}if(-1!==h||-1!==d)break;i.splice(p,1)}return{anchorX:h,anchorY:d}},this.updateAvailabilityHorizontally=function(t){for(var e=t.texts.map((function(e){return t.size*e.length})),a=0;a<e.length;a++)for(var n=0;n<t.size;n++)for(var i=a*t.size+n,r=0;r<e[a];r++)o.availabilityMap[t.y+i][t.x+r]=!1,o.emptyNum--,o.emptyNumRow[t.y+i]--,o.emptyNumColumn[t.x+r]--;for(var l=0;l<e.length;l++)for(var m=0;m<t.size;m++){var c=l*t.size+m,s=Math.max(0,t.x-1),u=Math.min(o.width-1,t.x+e[l]);o.availabilityMap[t.y+c][s]&&(o.availabilityMap[t.y+c][s]=!1,o.emptyNum--,o.emptyNumRow[t.y+c]--,o.emptyNumColumn[s]--),o.availabilityMap[t.y+c][u]&&(o.availabilityMap[t.y+c][u]=!1,o.emptyNum--,o.emptyNumRow[t.y+c]--,o.emptyNumColumn[u]--)}for(var h=0;h<e.length;h++)for(var d=0;d<e[h];d++){var f=Math.max(0,t.y+h*t.size-1),y=Math.min(o.height-1,t.y+(h+1)*t.size);o.availabilityMap[f][t.x+d]&&(o.availabilityMap[f][t.x+d]=!1,o.emptyNum--,o.emptyNumRow[f]--,o.emptyNumColumn[t.x+d]--),o.availabilityMap[y][t.x+d]&&(o.availabilityMap[y][t.x+d]=!1,o.emptyNum--,o.emptyNumRow[y]--,o.emptyNumColumn[t.x+d]--)}o.remainingCharNum-=t.texts.reduce((function(t,e){return t+e.length}),0)},this.findVerticalLocation=function(t,e){var a=t.map((function(t){return e*t.length})),n=a.reduce((function(t,e){return Math.max(t,e)}));if(n>o.height)return{anchorX:-1,anchorY:-1};for(var i=[],r=e*a.length-1,l=o.emptyNumColumn.length;l>=r;l--){for(var m=!0,c=0;c<a.length;c++){for(var s=0;s<e;s++){var u=l-c*e-s;if(u<r||o.emptyNumColumn[u]<a[c]){m=!1;break}}if(!m)break}m&&i.push(l)}for(var h=-1,d=-1,f=i.length,y=0;y<f;y++){for(var v=1+o.height-n,p=o.rand.randInt(0,i.length-1),g=i[p],x=o.rand.randInt(0,v-1),b=0;b<v;b++){for(var E=(b+x)%v,N=!0,M=0;M<a.length;M++){for(var w=0;w<e;w++){for(var k=-M*e-w,C=0;C<a[M];C++)if(g+k<0||!o.availabilityMap[E+C][g+k]){N=!1;break}if(!N)break}if(!N)break}if(N){h=g,d=E;break}}if(-1!==h||-1!==d)break;i.splice(p,1)}return{anchorX:h,anchorY:d}},this.updateAvailabilityVertically=function(t){for(var e=t.texts.map((function(e){return t.size*e.length})),a=0;a<e.length;a++)for(var n=0;n<t.size;n++)for(var i=-a*t.size-n,r=0;r<e[a];r++)o.availabilityMap[t.y+r][t.x+i]=!1,o.emptyNum--,o.emptyNumRow[t.y+r]-=1,o.emptyNumColumn[t.x+i]-=1;for(var l=0;l<e.length;l++)for(var m=0;m<t.size;m++){var c=-l*t.size-m,s=Math.max(0,t.y-1),u=Math.min(o.height-1,t.y+e[l]);o.availabilityMap[s][t.x+c]&&(o.availabilityMap[s][t.x+c]=!1,o.emptyNum--,o.emptyNumRow[s]--,o.emptyNumColumn[t.x+c]--),o.availabilityMap[u][t.x+c]&&(o.availabilityMap[u][t.x+c]=!1,o.emptyNum--,o.emptyNumRow[u]--,o.emptyNumColumn[t.x+c]--)}for(var h=0;h<e.length;h++)for(var d=0;d<e[h];d++){var f=Math.min(o.width-1,t.x-h*t.size+1),y=Math.max(0,t.x-(h+1)*t.size);o.availabilityMap[t.y+d][f]&&(o.availabilityMap[t.y+d][f]=!1,o.emptyNum--,o.emptyNumRow[t.y+d]--,o.emptyNumColumn[f]--),o.availabilityMap[t.y+d][y]&&(o.availabilityMap[t.y+d][y]=!1,o.emptyNum--,o.emptyNumRow[t.y+d]--,o.emptyNumColumn[y]--)}o.remainingCharNum-=t.texts.reduce((function(t,e){return t+e.length}),0)},e=Math.round(e),a=Math.round(a),this.width=e,this.height=a,this.availabilityMap=[];for(var m=0;m<a;m++)this.availabilityMap.push(new Array(e).fill(!0));this.emptyNum=e*a,this.emptyNumRow=new Array(a).fill(e),this.emptyNumColumn=new Array(e).fill(a),this.setPlaceholder(l),this.rand=new M(i),this.sentences=r.filter((function(t){return!(0===t.length)})).map((function(t){return new w(t.split(/\r\n|\r|\n/),0,0,1)}));var c=r.map((function(t){return t.split(/\r\n|\r|\n/)}));this.remainingCharNum=c.reduce((function(t,e){return t+e.reduce((function(t,e){return t+e.length}),0)}),0),this.makeLayout()},C=(a(77),function(t){var e=t.statements,a=t.width,n=t.height,i=t.divider,r=void 0===i?5:i,o=t.seed,c=void 0===o?1234567:o,s=Object(l.useState)(void 0),u=Object(N.a)(s,2),h=u[0],d=u[1];return Object(l.useEffect)((function(){var t=document.createElement("canvas");t.width=a,t.height=n;var i=t.getContext("2d");if(i){i.fillStyle="white",i.fillRect(0,0,a,n);var o={x:(a-300)/r,y:(n-30)/r,width:300/r,height:30/r};i.font="30px 'M PLUS Rounded 1c', sans-serif",i.fillStyle="gray",i.textAlign="end",i.textBaseline="bottom",i.fillText("#\u767a\u8a00\u307e\u3068\u3081\u30e1\u30fc\u30ab\u30fc",a,n);var l=new k(a/r,n/r,c,e,o);i.textBaseline="middle",i.fillStyle="black",l.sentences.forEach((function(t){i.textAlign=t.isVertical?"center":"left";var e=t.isBold?"bold ":"",a="".concat(t.isVertical?"'Noto Serif JP Vertical', ":"","'Noto Serif JP', 'Yu Mincho', 'Hiragino Mincho ProN', serif");i.font="".concat(e).concat(r*t.size,"px ").concat(a),t.getLayout().forEach((function(t){i.fillText(t.text,r*t.x,r*t.y,r*t.maxWidth)}))})),d(t.toDataURL())}})),m.a.createElement("img",{alt:"",src:h})}),z=a(52),S=a(112),j=a(113),R=a(81),A=a(114),B=a(51),O=a.n(B),V=Object(z.a)({palette:{primary:{main:"#ffd900"},secondary:{main:"#65318e"}},typography:{fontFamily:["M PLUS Rounded 1c","-apple-system","BlinkMacSystemFont",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),I=function(t){Object(r.a)(a,t);var e=Object(o.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).submitProperties=function(t,e){0===e.reduce((function(t,e){return t+e.length}),0)&&(e=new Array(100).fill("\u767a\u8a00\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")),i.setState({seed:t,statements:e})},i.state={statements:[],seed:1234567},i}return Object(i.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"app"},m.a.createElement(S.a,{theme:V},m.a.createElement(j.a,{style:{background:"white"}},m.a.createElement(f.a,{paddingBottom:2},m.a.createElement("img",{src:O.a,style:{pointerEvents:"none"}}))),m.a.createElement(j.a,{style:{background:"linear-gradient(#ffffff, #ede7f6)"}},m.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center",justify:"center"},m.a.createElement(h.a,{item:!0,xs:12},m.a.createElement(R.a,{gutterBottom:!0,align:"right"},m.a.createElement(A.a,{href:"https://yukihirok.github.io/hatsugen-matome-maker/legacy/",color:"secondary",target:"_blank",rel:"noopener"},"\u65e7\u7248\u306f\u3053\u3061\u3089"))),m.a.createElement(h.a,{item:!0,xs:12},m.a.createElement(d.a,{elevation:3},m.a.createElement(f.a,{padding:2},m.a.createElement(R.a,{variant:"h6",gutterBottom:!0,align:"center"},"\u4f7f\u3044\u65b9"),m.a.createElement(R.a,{variant:"body1",gutterBottom:!0},"\u4e0b\u306e\u7a7a\u6b04\u306b\u767a\u8a00\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3063\u3068\u5165\u529b\u3057\u305f\u3044\u3068\u304d\u306f\u300c\uff0b\u300d\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5165\u529b\u304c\u7d42\u308f\u3063\u305f\u3089\u300c\u4f5c\u6210\u300d\u3092\u30bf\u30c3\u30d7\u3002"),m.a.createElement(R.a,{variant:"body1",gutterBottom:!0},"\u3067\u304d\u308b\u3060\u3051\u305f\u304f\u3055\u3093\u306e\u767a\u8a00\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046\uff01\u753b\u50cf\u306f\u30b7\u30fc\u30c9\u5024\u3092\u3082\u3068\u306b\u30e9\u30f3\u30c0\u30e0\u751f\u6210\u3055\u308c\u3001\u300c\u66f4\u65b0\u300d\u3092\u62bc\u3059\u3068\u5225\u306e\u30d1\u30bf\u30fc\u30f3\u306b\u5909\u5316\u3057\u307e\u3059\u3002\u3067\u304d\u305f\u753b\u50cf\u306f\u9577\u62bc\u3057\u30bf\u30c3\u30d7\u7b49\u3067\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002"),m.a.createElement(R.a,{variant:"body1",gutterBottom:!0},"\u300c#\u767a\u8a00\u307e\u3068\u3081\u30e1\u30fc\u30ab\u30fc\u300d\u3092\u3064\u3051\u3066\u30c4\u30a4\u30fc\u30c8\u3057\u3088\u3046\uff01")))),m.a.createElement(h.a,{item:!0,xs:12},m.a.createElement(d.a,{elevation:3},m.a.createElement(f.a,{padding:2},m.a.createElement(R.a,{variant:"h6",gutterBottom:!0,align:"center"},"\u753b\u50cf\u306e\u5229\u7528\u306b\u3064\u3044\u3066"),m.a.createElement(R.a,{variant:"body1",gutterBottom:!0},"\u767a\u8a00\u307e\u3068\u3081\u30e1\u30fc\u30ab\u30fc\u3067\u751f\u6210\u3055\u308c\u305f\u753b\u50cf\u306f\u3001\u5546\u7528\u30fb\u975e\u5546\u7528\u554f\u308f\u305a\u7121\u6599\u3067\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u3059\u3002\u81ea\u7531\u306b\u7de8\u96c6\u30fb\u52a0\u5de5\u3057\u3066\u3044\u305f\u3060\u3044\u3066\u69cb\u3044\u307e\u305b\u3093\u3057\u3001\u5831\u544a\u7b49\u3082\u7279\u306b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u3054\u5229\u7528\u306e\u969b\u306e\u30af\u30ec\u30b8\u30c3\u30c8\u8868\u8a18\u306b\u3064\u3044\u3066\u3001\u5546\u7528\u306e\u5834\u5408\u306f\u300c\u767a\u8a00\u307e\u3068\u3081\u30e1\u30fc\u30ab\u30fc\u300d\u306e\u540d\u524d\u3068\u30ea\u30f3\u30af\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\u751f\u6210\u3055\u308c\u305f\u753b\u50cf\u3001\u304a\u3088\u3073\u305d\u306e\u5185\u5bb9\u306b\u3088\u3063\u3066\u751f\u3058\u308b\u640d\u5bb3\u306b\u3064\u3044\u3066\u306f\u4e00\u5207\u306e\u8cac\u4efb\u3092\u8ca0\u3044\u304b\u306d\u307e\u3059\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002"))))),m.a.createElement(f.a,{paddingY:2},m.a.createElement(p.a,{variant:"middle"}))),m.a.createElement(j.a,{style:{background:"#ede7f6"}},m.a.createElement(E,{onSubmit:this.submitProperties}),0===this.state.statements.length?null:m.a.createElement(f.a,{paddingBottom:4},m.a.createElement(d.a,{elevation:3},m.a.createElement(f.a,{padding:2},m.a.createElement(C,{statements:this.state.statements,seed:this.state.seed,width:1500,height:1e3}))))),m.a.createElement(f.a,{style:{background:"#302833",color:"white"}},m.a.createElement(R.a,{align:"center"},"\u767a\u8a00\u307e\u3068\u3081\u30e1\u30fc\u30ab\u30fc"),m.a.createElement(R.a,{align:"center"},"Copyright \xa9 2019-2020 ",m.a.createElement(A.a,{color:"inherit",href:"https://twitter.com/2000ymon",target:"_blank",rel:"noopener"},"@2000ymon")," All Rights Reserved."))))}}]),a}(m.a.Component);s.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(I,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f3633825.chunk.js.map